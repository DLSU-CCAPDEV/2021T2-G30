{{> navbar}}

<section class="custom-section">
      <div class="container d-flex align-items-center justify-content-center" style="min-height: inherit;">
        <div class="row">
          <div class="col-12 mx-auto text-center">
            {{#if details.dPicture}}
                <img src="/image/{{details.dPicture}}" alt="displayPicture" class="mx-auto btn dropdown-toggle displaypicture text-center" type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false" title="{{details.uName}} picture">
            {{else}}
                 <img src="/Images/defaultdp.jpg" alt="displayPicture" class="mx-auto btn dropdown-toggle displaypicture text-center" type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false" title="{{details.uName}} picture">
            {{/if}}
            
            <ul class="dropdown-menu ms-5" aria-labelledby="dropdownMenuButton1" style="padding-right:0.5em; padding-left: 0.5em;">
              <li><button class="dropdown-item" id="viewDP" data-bs-toggle="modal" data-bs-target="#modalDP">View Profile Picture</button></li>
              <li><button type="button" class="dropdown-item" id="editProfile">Edit profile </button></li>
            </ul>
          </div>
          <div class="col d-flex justify-content-center">
            <i class="fa fa-angle-down pt-2" style="margin-bottom: -0.5em;" aria-hidden="true"></i>
          </div>
          <div class="col-12 mx-auto pt-2">
            <p style="text-align: center; font-size: 30pt; font-weight: 400; margin-bottom: -0.4em;"> {{details.fName}} {{details.lName}} </p>
          </div>
          <div class="col-12 mx-auto">
            <p style="text-align: center; margin-top: .5em;"><small class="text-muted">  @{{details.uName}} </small></p>
          </div>
          <div class="col-10 mx-auto">
            <hr class="mx-auto" style="margin-top: -0.5em; margin-bottom: 0.3em; border: 1px solid #000000; width: 5em; height: 2px;">
          </div>    
          <div class="col-3 mx-auto pt-2" style="width: 28em; word-wrap: break-word;">
            <p style="text-align: center; font-size: 12pt; font-weight: 100; margin-top: -0.3em;"> {{details.bio}}  </p>
          </div>       
        </div>
      </div>
</section>

{{!-- Friends --}}
<section>
  <div class="container">

    <div class="row text-center">
        <p style="font-size: 24pt; margin-bottom: -.5em;"> Friends </p>
        <div class="col-9 mx-auto">
        <hr style="border: 1px solid #000000; height: 2px;">
        </div>
    </div>
    {{#if friends}}
      <div class="row d-flex justify-content-center">
      {{#each friends}}
          <div class="col-sm-12 col-xxl-3 mx-2">
            <a href="/userprofile/{{this.friendId.uName}}">
              <div class="card mb-3 mx-auto">
                <div class="row g-0">
                    <div class="col-7 custom">
                    <h5 class="card-title ps-3 pt-4" style="margin-bottom: -0.4em;">{{this.friendId.uName}}</h5>
                    </div>
                    <div class="col-5">
                      {{#if this.friendId.dPicture}}
                        <img src="/image/{{this.friendId.dPicture}}" class="img-fluid" alt="...">
                      {{else}}
                        <img src="/Images/defaultdp.jpg" class="img-fluid" alt="...">
                      {{/if}}
                    </div>
                </div>
              </div>
            </a>
          </div>
      {{/each}}
      </div>
    {{else}}
      <div class="container">
        <div class="row">
          <p style="text-align: center;">You currently do not have any friends.</p>
        </div>
      </div>
    {{/if}}
  </div>
</section>

{{!-- Pending --}}
{{#if pending}}
  <section>
    <div class="container">
      <div class="row text-center">
          <p style="font-size: 24pt; margin-bottom: -.5em;"> Pending Requests </p>
          <div class="col-9 mx-auto">
            <hr style="border: 1px solid #000000; height: 2px;">
          </div>
      </div>
        <div class="row d-flex justify-content-center">
        {{#each pending}}
            <div class="col-sm-12 col-xxl-3 mx-2">
              <a href="/userprofile/{{this.userId.uName}}">
                <div class="card mb-3 mx-auto">
                  <div class="row g-0">
                      <div class="col-7 custom">
                        <h5 class="card-title ps-3 pt-4" style="margin-bottom: -0.4em;">{{this.userId.uName}}</h5>
                      </div>
                      <div class="col-5">
                        {{#if this.userId.dPicture}}
                          <img src="/image/{{this.userId.dPicture}}" class="img-fluid" alt="...">
                        {{else}}
                          <img src="/Images/defaultdp.jpg" class="img-fluid" alt="...">
                        {{/if}}
                      </div>
                  </div>
                </div>
              </a>
            </div>
        {{/each}}
        </div>
    </div>
  </section>
{{/if}}

<div class="modal fade" id="modalDP" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    {{#if details.dPicture}}
      <img src="/image/{{details.dPicture}}" alt="displayPicture" class="mx-auto btn dropdown-toggle displaypicturemodal text-center" type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false" title="{{details.uName}} picture">
    {{else}}
        <img src="/Images/defaultdp.jpg" alt="displayPicture" class="mx-auto btn dropdown-toggle displaypicturemodal text-center" type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false" title="{{details.uName}} picture">
    {{/if}}
  </div>
</div>